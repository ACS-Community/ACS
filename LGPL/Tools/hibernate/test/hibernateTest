#!/bin/sh
#*******************************************************************************

# In order to be able to run this test either right after building this module (when acsjlog is not yet built),
# or at the end when acsjlog has contributed the ACS mapping for slf4j to the classpath,
# we give the list of jars explicitly and thus enforce using the local slf4j-jdk14-1.5.8.jar instead of acsjlogSLF4j.jar.
# Note that the problem is not only the missing or redundant slf4j mapping on the classpath, but also 
# the custom log level configuration which acsjlog does for hibernate loggers (see http://jira.alma.cl/browse/COMP-3792).
export REQUIRED_JARS=junit.jar:hibernate3.jar:hibernate-annotations.jar:hibernate-commons-annotations.jar:slf4j-api-1.5.8.jar:slf4j-jdk14-1.5.8.jar:ejb3-persistence.jar:hsqldb.jar:javassist-3.4.GA.jar:commons-collections-3.1.jar:jta-1.1.jar:dom4j-1.6.1.jar:jACSUtil.jar:acsjlog.jar:hibernateTest.jar

acsStartJava -noAutoClasspath -noClassLoader -addToClasspath $REQUIRED_JARS alma.acs.testsupport.tat.NoDotJUnitRunner alma.hibernate.test.Test