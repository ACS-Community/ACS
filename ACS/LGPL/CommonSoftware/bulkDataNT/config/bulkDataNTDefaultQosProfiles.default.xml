<?xml version="1.0"?>
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->
<!-- !!!!!!!!!!!!!!!!!!!      PLEASE DO NOT EDIT THIS FILE       !!!!!!!!!!! -->
<!-- !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!-->

<!-- 
Default QoS Profile for BulkDataNT.
-->
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    
<!-- this line is needed just if we want to validate the document or similar, ..
    xsi:noNamespaceSchemaLocation="/alma/ACS-X.Y/RTI/ndds.4.5e/resource/qos_profiles_4.5e/schema/rti_dds_qos_profiles.xsd"
     version="4.5e"
    -->
    
    <!-- QoS Library containing the QoS profile used in the generated example.

        A QoS library is a named set of QoS profiles.
    -->
    <qos_library name="BulkDataQoSLibrary">

        <!-- QoS profile used to configure reliable communication between the DataWriter 
             and DataReader created in the example code.

             A QoS profile groups a set of related QoS.
        -->
        
        <qos_profile name="DefaultStreamQosProfile" >
            
            <participant_qos>
                <transport_builtin>
                    <mask>DDS_TRANSPORTBUILTIN_UDPv4</mask>
                </transport_builtin>
                <receiver_pool>
                    <buffer_size>65536</buffer_size>
                </receiver_pool>
                <event>
                    <max_count>16384</max_count>
                </event>
                
                <property>
                    <value>
                        <element>         
                            <name>dds.transport.UDPv4.builtin.parent.message_size_max</name>
                            <value>65536</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.send_socket_buffer_size</name>
                            <value>65536</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.recv_socket_buffer_size</name>
                            <value>131072</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.multicast_ttl</name>
                            <value>1</value>
                        </element>
                    </value>
                </property> 
            </participant_qos>
            
        </qos_profile>
        
        <qos_profile name="SenderStreamDefaultQosProfile" base_name="DefaultStreamQosProfile">
        </qos_profile>
        
        <qos_profile name="ReceiverStreamDefaultQosProfile" base_name="DefaultStreamQosProfile">
        </qos_profile>
        
        
        <qos_profile name="SenderFlowDefaultQosProfile">
            <publisher_qos>
            </publisher_qos>
            <datawriter_qos>
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                    <max_blocking_time>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </max_blocking_time>
                </reliability>                
                
                <history>
                    <kind>KEEP_ALL_HISTORY_QOS</kind>
                    <depth>10</depth>
                </history>
                
                <liveliness>
                    <lease_duration>
                        <sec>9</sec>
                        <nanosec>0</nanosec>
                    </lease_duration>
                </liveliness>
                
                <resource_limits>
                    <max_samples>100</max_samples>
                    <initial_samples>1</initial_samples>
                    <initial_instances>1</initial_instances>
                    <max_instances>1</max_instances>
                    <max_samples_per_instance>100</max_samples_per_instance>
                </resource_limits>
                <protocol>
                    <push_on_write>true</push_on_write>
                    <rtps_reliable_writer>
                        <high_watermark>1</high_watermark>
                        <fast_heartbeat_period>
                            <sec>0</sec>
                            <nanosec>10000000</nanosec>
                        </fast_heartbeat_period>
                        <heartbeats_per_max_samples>100</heartbeats_per_max_samples>
                        <heartbeat_period>
                            <sec>604800</sec>
                        </heartbeat_period>
                        <max_heartbeat_retries>100</max_heartbeat_retries>
                        <min_nack_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </min_nack_response_delay>
                        <max_nack_response_delay>
                            <sec>0</sec>
                            <nanosec>1000000</nanosec>
                        </max_nack_response_delay>
                        <max_bytes_per_nack_response>65535</max_bytes_per_nack_response>
                    </rtps_reliable_writer>
                </protocol>
            </datawriter_qos>
            
        </qos_profile>
        
        <qos_profile name="ReceiverFlowDefaultQosProfile">
            <datareader_qos>
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                </reliability>                
                
                <history>
                    <kind>KEEP_ALL_HISTORY_QOS</kind>
                    <depth>100</depth>
                </history>
                
                <liveliness>
                    <lease_duration>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </lease_duration>
                </liveliness>
                
                <reader_resource_limits>
                    <initial_remote_writers>1</initial_remote_writers>
                    <max_remote_writers>1</max_remote_writers>
                    <max_remote_writers_per_sample>1</max_remote_writers_per_sample>
                    <initial_remote_writers_per_instance>1</initial_remote_writers_per_instance>
                    <max_remote_writers_per_instance>1</max_remote_writers_per_instance>
                    <max_samples_per_remote_writer>100</max_samples_per_remote_writer>
                </reader_resource_limits>
                <resource_limits>
                    <max_samples>100</max_samples>
                    <initial_samples>100</initial_samples>
                    <max_samples_per_instance>100</max_samples_per_instance>
                </resource_limits>
                
                <protocol>
                    <rtps_reliable_reader>
                        <min_heartbeat_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </min_heartbeat_response_delay>
                        <max_heartbeat_response_delay>
                            <sec>0</sec>
                            <nanosec>100000</nanosec>
                        </max_heartbeat_response_delay>
                    </rtps_reliable_reader>
                </protocol>
            </datareader_qos>
        </qos_profile>
    </qos_library>
    
<!-- *************************************************  TCP *************************************************************-->
<!-- *************************************************  TCP *************************************************************-->
<!-- *************************************************  TCP *************************************************************-->
    <qos_library name="TCPBulkDataQoSLibrary">
        
        <qos_profile name="DefaultStreamQosProfile" >
            
            <participant_qos>
                <transport_builtin>
                    <!--
                    <mask>DDS_TRANSPORTBUILTIN_MASK_NONE</mask>
                    
                    -->
                    <mask>DDS_TRANSPORTBUILTIN_UDPv4</mask>          
                </transport_builtin>
                
                <discovery>
                    <enabled_transports>
                        <element>builtin.udpv4</element>    
                    </enabled_transports>
                </discovery>
                
                <receiver_pool>
                    <!-- should be at least 64k -->
                    <buffer_size>2097152</buffer_size>
                </receiver_pool>
                <event>
                    <max_count>16384</max_count>
                </event>
                
                <property>
                    <value>
                        <!--    TCP  -->      
                        <element>
                            <name>dds.transport.load_plugins</name>
                            <value>dds.transport.TCPv4.tcp1</value>
                        </element>
                        
                        <element>
                            <name>dds.transport.TCPv4.tcp1.library</name>
                            <value>nddstransporttcp</value>
                        </element>                        
                        <element>
                            <name>dds.transport.TCPv4.tcp1.create_function</name>
                            <value>NDDS_Transport_TCPv4_create</value>
                        </element>
                        <element>
                            <name>dds.transport.TCPv4.tcp1.parent.classid</name>
                            <value>NDDS_TRANSPORT_CLASSID_TCPV4_LAN</value>
                        </element>
                        
                        <element>
                            <name>dds.transport.TCPv4.tcp1.server_bind_port</name>
                            <value>9601</value>
                        </element>
                        
                        <element>
                            <name>dds.transport.TCPv4.tcp1.parent.message_size_max</name>
                            <value>65536</value>    
                        </element>
                        
                        <element>
                            <name>dds.transport.TCPv4.tcp1.send_socket_buffer_size</name>
                            <value>524288</value><!-- 8 samples-->
                        </element>
                        <element>
                            <name>dds.transport.TCPv4.tcp1.recv_socket_buffer_size</name>
                            <value>2097152</value> <!-- 32 samples-->
                        </element>
                        
                        <!-- UDP -->
                        <element>         
                            <name>dds.transport.UDPv4.builtin.parent.message_size_max</name>
                            <value>65536</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.send_socket_buffer_size</name>
                            <value>65536</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.recv_socket_buffer_size</name>
                            <value>131072</value>
                        </element>
                        <element>
                            <name>dds.transport.UDPv4.builtin.multicast_ttl</name>
                            <value>3</value>
                        </element>
                    </value>
                </property>
            </participant_qos>
            
        </qos_profile>
        
        <qos_profile name="SenderStreamDefaultQosProfile" base_name="DefaultStreamQosProfile">        
        </qos_profile>
        
        <qos_profile name="ReceiverStreamDefaultQosProfile" base_name="DefaultStreamQosProfile">        
        </qos_profile>
        
        <qos_profile name="SenderFlowDefaultQosProfile">
            <publisher_qos>
            </publisher_qos>
            <datawriter_qos>
                
                <transport_selection>
                    <enabled_transports>
                        <element>tcpv4_lan</element>    
                    </enabled_transports>
                </transport_selection>
                
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                    <max_blocking_time>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </max_blocking_time>
                </reliability>                
                
                <history>
                    <kind>KEEP_ALL_HISTORY_QOS</kind>
                    <depth>1</depth>
                </history>
                
                <liveliness>
                    <lease_duration>
                        <sec>9</sec>
                        <nanosec>0</nanosec>
                    </lease_duration>
                </liveliness>
                
                <resource_limits>
                    <max_samples>10</max_samples>
                    <initial_samples>10</initial_samples>
                    <initial_instances>1</initial_instances>
                    <max_instances>1</max_instances>
                    <max_samples_per_instance>10</max_samples_per_instance>
                </resource_limits>
                <protocol>
                    <push_on_write>true</push_on_write>
                    <disable_positive_acks>false</disable_positive_acks>
                    
                    <rtps_reliable_writer>      
                        <min_send_window_size>3</min_send_window_size>
                        <max_send_window_size>10</max_send_window_size>
                        
                        <high_watermark>10</high_watermark>
                        <fast_heartbeat_period>
                            <sec>120</sec>
                            <nanosec>0</nanosec>
                        </fast_heartbeat_period>
                        <heartbeats_per_max_samples>10</heartbeats_per_max_samples>
                        <heartbeat_period>
                            <sec>604800</sec>
                        </heartbeat_period>
                        <max_heartbeat_retries>100</max_heartbeat_retries>
                        <min_nack_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </min_nack_response_delay>
                        <max_nack_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </max_nack_response_delay>
                        <max_bytes_per_nack_response>65500</max_bytes_per_nack_response>
                    </rtps_reliable_writer>
                </protocol>
            </datawriter_qos>
            
        </qos_profile>
        
        <qos_profile name="ReceiverFlowDefaultQosProfile">
            <datareader_qos>
                
                <transport_selection>
                    <enabled_transports>
                        <element>tcpv4_lan</element>    
                    </enabled_transports>
                </transport_selection>
                
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                </reliability>                
                
                <history>
                    <kind>KEEP_ALL_HISTORY_QOS</kind>
                    <depth>10</depth>
                </history>
                
                <liveliness>
                    <lease_duration>
                        <sec>10</sec>
                        <nanosec>0</nanosec>
                    </lease_duration>
                </liveliness>
                
                <reader_resource_limits>
                    <initial_remote_writers>1</initial_remote_writers>
                    <max_remote_writers>1</max_remote_writers>
                    <max_remote_writers_per_sample>1</max_remote_writers_per_sample>
                    <initial_remote_writers_per_instance>1</initial_remote_writers_per_instance>
                    <max_remote_writers_per_instance>1</max_remote_writers_per_instance>
                    <max_samples_per_remote_writer>20</max_samples_per_remote_writer>
                </reader_resource_limits>
                <resource_limits>
                    <max_samples>20</max_samples>
                    <initial_samples>20</initial_samples>
                    <max_samples_per_instance>20</max_samples_per_instance>
                </resource_limits>
                
                <protocol>
                    <rtps_reliable_reader>
                        <min_heartbeat_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </min_heartbeat_response_delay>
                        <max_heartbeat_response_delay>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </max_heartbeat_response_delay>
                        <heartbeat_suppression_duration>
                            <sec>0</sec>
                            <nanosec>0</nanosec>
                        </heartbeat_suppression_duration>
                    </rtps_reliable_reader>
                </protocol>
            </datareader_qos>
        </qos_profile>
                
    </qos_library>
    
</dds>
